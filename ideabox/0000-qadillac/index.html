

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Quick and dirty indented language lossless alpha-conversion &mdash; KEYBOARD11 z n. n.</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
 
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="How to accelerate C++ compilation without killing preprocessing" href="../0001-futomake/" />
    <link rel="prev" title="Keyboard11 Ideabox" href="../" />
 <link rel="apple-touch-icon" sizes="180x180" href="../../_static/apple-touch-icon.png"/>
 <link rel="mask-icon" color="#225599" href="../../_static/safari-pinned-tab.svg" />
 <meta name="theme-color" content="#225599" />
 <meta name="msapplication-TileColor" content="#225599"/>
 <meta name="msapplication-TileImage" content="../../_static/mstile-144x144.png"/>
 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #1940b9" >
          

          
            <a href="../../">
          

          
            
            <img src="../../_static/keyboard11banner.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../welcome/">The Keyboard11 website begins…</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../disclaimer/">A disclaimer of sorts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../garden/">Garden of Code Monstrosities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whinecellar/">Whine Cellar</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Keyboard11 Ideabox</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Quick and dirty indented language lossless alpha-conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0001-futomake/">How to accelerate C++ compilation without killing preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0002-paraconsole/">The inadequacy of linear terminal for age of concurrency</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0003-exceptions/">A calling convention concept for functions with C++-like exception model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0004-mapper/">Things that can be done with an NES mapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0005-mapper-revisited/">Things that can be done with an NES mapper, revisited</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Keyboard11 z n. n. website</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../">Keyboard11 Ideabox</a> &raquo;</li>
        
      <li>Quick and dirty indented language lossless alpha-conversion</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="../0001-futomake/" class="btn btn-neutral float-right" title="How to accelerate C++ compilation without killing preprocessing" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="../" class="btn btn-neutral float-left" title="Keyboard11 Ideabox" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-and-dirty-indented-language-lossless-alpha-conversion">
<h1>Quick and dirty indented language lossless alpha-conversion<a class="headerlink" href="#quick-and-dirty-indented-language-lossless-alpha-conversion" title="Permalink to this headline">¶</a></h1>
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>The source specification of computer programs and other things
is, for historical reasons, typically composed of text files.
However, in accordance with modern understanding of code being tidy,
those text files tend to follow multiple rigid structures, which
lowers their information density when compared to storage length. One such
structure is indentation.</p>
<p>Indentation is very useful for viewer of the code, but it comes with
a lot of drawbacks when one considers its direct storage in text files.
The most basic one is that, naturally, it wastes space. This can be partially
mitagated with compression algorithms, but if it wasn’t the case those
could do a better job on the rest of the code.</p>
</div>
<div class="section" id="idea">
<h2>Idea<a class="headerlink" href="#idea" title="Permalink to this headline">¶</a></h2>
<p>A very simple encoding could be made which would allow lossless compression
of a typical source code file, that would at the same time preserve most
of its non-indentation properties so that dictionary algorithms could
keep doing their jobs. Additionally, this could improve performance of some
diff utilities.</p>
<p>Amongst 128 standard US-ASCII characters, the first 32 are control codes.
Out of these 32, maybe 5 are commonly seen within source code. The rest
could be used to implement the indentation encoding, with one reserved
to preserve their actual occurences if they happened to happen. In fact, this
is such a huge collection of control codes that the indentation encoding
would barely take half of them, and the occasionally used high bytes are
completely absent from our discussion so far; further encoding improvements
are certainly possible; this is an undercooked idea though, so we’re going
to focus on indentation encoding.</p>
<p>The indentation in most languages tends to follow a stack-like structure.
A stack of indentation strings seems like a natural pick. It could be
pushed at a start of indentation block, and popped at the end of one.</p>
<p>Most programs tend to follow a simple scheme of indentation levels,
each denoted with a tab character or a constant length space string.
However, there are some exceptions in various styles, and some
ocassional oddities which could use a more varied string, like
blocks of C++ one-line comments. Encoding most used schemes with a single
control code while allowing encoding new ones seems like a fine decision.</p>
<p>There doesn’t seem to be a logical reason to allow manipulating
the indentation stack in the middle of a line.</p>
<p>C, C++ and similar languages could achieve further compression by combining
pushing and popping from indentation stack with embedded parentheses, braces,
and maybe brackets.</p>
<p>Python and similar languages could achieve further compression by combining
popping several layers from the stack in a lesser count of control codes.</p>
</div>
<div class="section" id="problems">
<h2>Problems<a class="headerlink" href="#problems" title="Permalink to this headline">¶</a></h2>
<p>While this could be easily implemented as a compression layer in 7-zip style
archive, implementation in version control systems is likely to be hard
due to their embedded difference utilities not expecting the control codes,
especially used in the way presented here.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../0001-futomake/" class="btn btn-neutral float-right" title="How to accelerate C++ compilation without killing preprocessing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../" class="btn btn-neutral float-left" title="Keyboard11 Ideabox" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2021+, stan423321.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>