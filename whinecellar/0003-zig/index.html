

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Stan whines about Zig &mdash; KEYBOARD11 z n. n.</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
 
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Stan whines about whining about whining" href="../0004-metawhine/" />
    <link rel="prev" title="Stan whines about Rust" href="../0002-rust/" />
 <link rel="apple-touch-icon" sizes="180x180" href="../../_static/apple-touch-icon.png"/>
 <link rel="mask-icon" color="#225599" href="../../_static/safari-pinned-tab.svg" />
 <meta name="theme-color" content="#225599" />
 <meta name="msapplication-TileColor" content="#225599"/>
 <meta name="msapplication-TileImage" content="../../_static/mstile-144x144.png"/>
 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #1940b9" >
          

          
            <a href="../../">
          

          
            
            <img src="../../_static/keyboard11banner.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../welcome/">The Keyboard11 website begins…</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../disclaimer/">A disclaimer of sorts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../garden/">Garden of Code Monstrosities</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Whine Cellar</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../0000-git/">Stan whines about Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0001-guivscli/">Stan whines about GUI vs. CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0002-rust/">Stan whines about Rust</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Stan whines about Zig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0004-metawhine/">Stan whines about whining about whining</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0005-zeroregister/">Stan whines about zero register (mostly in RISC-V)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../0006-git-revisited/">Stan whines about Git again</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ideabox/">Keyboard11 Ideabox</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Keyboard11 z n. n. website</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../">Docs</a> &raquo;</li>
        
          <li><a href="../">Whine Cellar</a> &raquo;</li>
        
      <li>Stan whines about Zig</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="../0004-metawhine/" class="btn btn-neutral float-right" title="Stan whines about whining about whining" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../0002-rust/" class="btn btn-neutral float-left" title="Stan whines about Rust" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="stan-whines-about-zig">
<h1>Stan whines about Zig<a class="headerlink" href="#stan-whines-about-zig" title="Permalink to this headline">¶</a></h1>
<p>While reading through recent release notes for LLVM suite, I spotted
a mention of something called “the Zig programming language”. Expecting
something really stupid, I decided to take a ten minute gander. Little
did I know that this will end up relevant to my previous rant about Rust.</p>
<p>What followed was an emotional rollercoaster. First, there was the note
of trying to become better than C (not C++, but closer to it than something
like Kotlin or Dart that wouldn’t even keep me reading). Then there were
a few more irritating things, which complimented the initial tease without
extinguishing it completely. This did not prepare me for what happened around
the middle of the ziglang.org frontpage: a storm of features that I either
found cool or even independently came up with before had me enter an uneven
emotional state; I was wondering if that’s what falling in love feels like…
But not for long. Falling in love shouldn’t expire in minutes.</p>
<p>I compared Rust to a Giant Friendly Clumsy Crab. I’m not sure what to come
up with that will describe CATS… I mean Zig… huh.</p>
<div class="section" id="how-are-you-gentlemen">
<h2>How are you gentlemen!!<a class="headerlink" href="#how-are-you-gentlemen" title="Permalink to this headline">¶</a></h2>
<p>Zig has, no doubt by convergence of good design, some features that
are absolutely reminiscent of what I was planning to do with my
language already. A powerful example is that it leverages Clang to
take a C header file and convert it to a native module, with little
to no fiddling required to fix it. A lot of languages have C binding facilities,
but it either comes with being mostly a superset of C and inheriting
its header inclusion model, or requires manual work to present every entity
that needs presentation to the language.</p>
<p>Another cool element that I was actually going to attempt implementing myself
is avoiding the Bracket Madness. As far as Zig is concerned, a class template
is a function that returns a type, so it uses regular parentheses. This is
what Zig calls a “comptime” function, which, to the best of my knowledge,
is extremely close to C++2a’s “consteval”, but incorporates typing as well.
This is brilliantly elegant.</p>
<p>Apparently there’s also some integrated build system - eh - which seems to
implement some sort of compilation asset reuse that is more advanced than
what C compilers do - huh? I’m not exactly sure of the details, but the
basic idea sounds very much like what my Futomake was supposed to be about.</p>
</div>
<div class="section" id="all-your-base-are-belong-to-us">
<h2>All your base are belong to us.<a class="headerlink" href="#all-your-base-are-belong-to-us" title="Permalink to this headline">¶</a></h2>
<p>Since headers are nonsensical anyway, let’s get to my complaints.
Some of them are of the… axiomatic nature. For instance, Zig has
decided that anything that doesn’t look like function call cannot generate
a function call, which automatically eliminates a lot of cool features
such as operator overloading and automatic destructors. Now, to be absolutely
fair, the author (I think one by that point) made an exception of sort
and allowed a flat RAII notation managed with separate keywords, so you can
get your destructors, you just gotta ask for them every single time. I think
that notation will be friendlier to C veterans who hate destructors and…
erm… GC veterans who hate destructors. But, I’m discussing my viewpoint here.
Destructors are cool. Operator overloads are cool. I can’t exactly vouch for
this aspect of the language.</p>
<p>I am a bit more receptive to the error handling setup. It’s basically taking
pieces from both error codes and exceptions, though I can’t help but wonder
about the implementation, once again.</p>
</div>
<div class="section" id="you-are-on-the-way-to-destruction">
<h2>You are on the way to destruction.<a class="headerlink" href="#you-are-on-the-way-to-destruction" title="Permalink to this headline">¶</a></h2>
<p>There’s a lot to take in Zig, and it isn’t a language that is particularly
well separated from the implementation, by the way. It advertises such features
as shipping with musl source on Linux. Which is, you know, very cool, but other
language compilers could easily start doing this. Clang, start doing this,
please?</p>
<p>That’s pretty clearly on the environment side. Extensive error checks are
more arguable. But these are cool. What’s not cool is a lot of excessive
notation. Function template equivalents are functions with “comptime” type
parameters, which you have to put in yourself like it would be a macro.
Everything in standard library that allocates takes an allocator parameter,
that you have to put in yourself. Value parameters… actually, I’m not too
sure, I’ll explain later. Combined with no operator overloading and automatic
destructors, this doesn’t sound too good.</p>
</div>
<div class="section" id="you-have-no-chance-to-survive">
<h2>YOU HAVE NO CHANCE TO SURVIVE<a class="headerlink" href="#you-have-no-chance-to-survive" title="Permalink to this headline">¶</a></h2>
<p>The above verbosity is enough to make me fall out of my falling in love with
Zig, but I could see working with it if it added other stuff I personally
want in my language. This seems very unlikely to happen:</p>
<ul class="simple">
<li><p>D implementation of properties and C++ operator overloading are explicitly
listed as going against Zig interpretation of control flow integrity.</p></li>
<li><p>Given the implentation of error enumerations, it seems very unlikely
that Zig authors would like to implement my ideas of open structures
and classes.</p></li>
<li><p>Zig comes with a “3-bit signed integer type” ready to go. This may seem
like a very weird complaint to have, but the kicker is that it’s explicitly
not byte aligned, while bytes are, and there doesn’t seem to be a way to
make them not.</p></li>
<li><p>Zig is actively moving away from sigils to keywords, and less actively
away from stropped keywords to regular keywords.</p></li>
</ul>
</div>
<div class="section" id="make-your-time">
<h2>make your time.<a class="headerlink" href="#make-your-time" title="Permalink to this headline">¶</a></h2>
<p>The last point is what I would consider “very interesting”. You see, Zig is not
considering itself production ready yet, it’s in version 0.5.0 right now and
that comes with an explanation that 1.0.0 is what authors (many at that point,
I suppose) will consider stable. This is rather obvious when reading description
of language features. Compared to Rust situation, changes between today’s
and 2016’s Zig are kind of huge. So maybe it’s not really the time to judge it
as a whole.</p>
<p>The biggest problem that Zig presents to me is that I cannot really see getting
many people to cooperate with my language if there’s already a solid competition
in what I consider a relatively small market. Oh well, we’ll see if that’s
the case. Maybe I’ll just give up as always and there will be no problem
whatsoever.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../0004-metawhine/" class="btn btn-neutral float-right" title="Stan whines about whining about whining" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../0002-rust/" class="btn btn-neutral float-left" title="Stan whines about Rust" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020-2021+, stan423321

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>